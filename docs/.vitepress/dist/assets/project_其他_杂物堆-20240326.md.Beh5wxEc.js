import{_ as s,c as a,o as i,a9 as t}from"./chunks/framework.G_nFLsES.js";const g=JSON.parse('{"title":"echarts使用高德地图作为底图","description":"","frontmatter":{"title":"echarts使用高德地图作为底图","tags":["插件使用","echarts","amap"],"categories":[["前端开发","杂物堆"]],"abbrlink":"555f53d3","date":"2024-03-26T22:16:59.000Z"},"headers":[],"relativePath":"project/其他/杂物堆-20240326.md","filePath":"project/其他/杂物堆-20240326.md","lastUpdated":1715952728000}'),n={name:"project/其他/杂物堆-20240326.md"},h=t(`<h1 id="echarts-使用高德地图作为底图" tabindex="-1">echarts 使用高德地图作为底图 <a class="header-anchor" href="#echarts-使用高德地图作为底图" aria-label="Permalink to &quot;echarts 使用高德地图作为底图&quot;">​</a></h1><ul><li><a href="#echarts-使用高德地图作为底图">echarts 使用高德地图作为底图</a><ul><li><a href="#echarts-extension-amap-插件使用">echarts-extension-amap 插件使用</a></li><li><a href="#echarts-option-设置">echarts Option 设置</a></li><li><a href="#高德控件的加入">高德控件的加入</a></li><li><a href="#参考">参考</a></li></ul></li></ul><h2 id="echarts-extension-amap-插件使用" tabindex="-1">echarts-extension-amap 插件使用 <a class="header-anchor" href="#echarts-extension-amap-插件使用" aria-label="Permalink to &quot;echarts-extension-amap 插件使用&quot;">​</a></h2><p>前面已经使用 echarts 的散点图+极坐标画出了类似雷达图的效果，这次是希望将高德地图直接作为底图，而不是放一张静态的矢量图作为底图，而且由于区域较小，所以不能直接拿行政区划图导入 echarts 进行绘制 查了下，找到一个插件叫<code>echarts-extension-amap</code>,具体导入语句：</p><div class="language-HTML vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">HTML</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">&lt;!-- 导入高德 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;text/javascript&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    src</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://webapi.amap.com/maps?v=2.0&amp;key=[高德的key]2&amp;plugin=AMap.Scale,AMap.ToolBar&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  &lt;!-- 导入echarts --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;text/javascript&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    src</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://registry.npmmirror.com/echarts/5.5.0/files/dist/echarts.min.js&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  &lt;!-- 导入echarts-extension-amap --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> src</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://cdn.jsdelivr.net/npm/echarts-extension-amap/dist/echarts-extension-amap.min.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h2 id="echarts-option-设置" tabindex="-1">echarts Option 设置 <a class="header-anchor" href="#echarts-option-设置" aria-label="Permalink to &quot;echarts Option 设置&quot;">​</a></h2><p>导入后的使用很简单，在 option 中设置 amap 属性即可</p><div class="language-JavaScript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">JavaScript</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    option </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      backgroundColor: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;transparent&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 设置图表背景色为透明</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      amap: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        center: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">118.9148</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">32.1137</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        zoom: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">24</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        mapStyle: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;amap://styles/dark&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//设置地图样式</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      //其他属性</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span></code></pre></div><h2 id="高德控件的加入" tabindex="-1">高德控件的加入 <a class="header-anchor" href="#高德控件的加入" aria-label="Permalink to &quot;高德控件的加入&quot;">​</a></h2><p>在这里添加了比例尺的控件，也可以添加高德的其他控件以及图层（控件要在开头导入），主要是在 echarts 渲染完后获取其中的高德地图的组件</p><div class="language-JavaScript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">JavaScript</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 获取 ECharts 高德地图组件</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> amapComponent </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> chart.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;amap&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 获取高德地图实例，使用高德地图自带的控件(需要在高德地图js API script标签手动引入)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> amap </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> amapComponent.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getAMap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 添加控件</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">amap.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addControl</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> AMap.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Scale</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">amap.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addControl</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> AMap.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ToolBar</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 禁用 ECharts 图层交互，从而使高德地图图层可以点击交互</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">amapComponent.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setEChartsLayerInteractive</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><h2 id="参考" tabindex="-1">参考 <a class="header-anchor" href="#参考" aria-label="Permalink to &quot;参考&quot;">​</a></h2><p><a href="https://github.com/plainheart/echarts-extension-amap/blob/master/README.zh-CN.md" target="_blank" rel="noreferrer">https://github.com/plainheart/echarts-extension-amap/blob/master/README.zh-CN.md</a></p>`,13),p=[h];function l(e,k,r,E,d,c){return i(),a("div",null,p)}const y=s(n,[["render",l]]);export{g as __pageData,y as default};
